(this.webpackJsonptexttospeech=this.webpackJsonptexttospeech||[]).push([[0],{202:function(e,t,a){},246:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},273:function(e,t){},275:function(e,t){},285:function(e,t){},287:function(e,t){},314:function(e,t){},316:function(e,t){},317:function(e,t){},322:function(e,t){},324:function(e,t){},330:function(e,t){},332:function(e,t){},351:function(e,t){},363:function(e,t){},366:function(e,t){},634:function(e,t,a){},635:function(e,t,a){},636:function(e,t,a){},639:function(e,t,a){},640:function(e,t,a){"use strict";a.r(t);var n,s,c=a(3),r=a.n(c),i=a(52),o=a.n(i),l=a(73),h=a(20),b=(a(246),a(641)),d=a(645),j=a(646),u=a(642),m=a(18),p=a(0),g=function(e){var t=Object(m.f)(),a=Object(c.useState)(!1),n=Object(h.a)(a,2),s=n[0],r=n[1];return Object(p.jsx)("div",{className:"pa4 tc",children:Object(p.jsxs)(b.a,{isOpen:s,toggle:function(){return r((function(e){return!e}))},children:[Object(p.jsx)(d.a,{tag:"span","data-toggle":"dropdown","aria-expanded":s,caret:!0,children:Object(p.jsx)("img",{src:"https://robohash.org/".concat(e.userid),className:"br-100 ba bg-black h3 w3 dib",alt:"avatar"})}),Object(p.jsxs)(j.a,{right:!0,className:"b--transparent shadow-25",style:{marginTop:"20px",backgroundColor:"rgba(255, 255, 255, 0.5)"},children:[Object(p.jsx)(u.a,{onClick:function(){t.push("/home")},children:"Home"}),Object(p.jsx)(u.a,{onClick:function(){e.togglemodal()},children:"Profile"}),Object(p.jsx)(u.a,{onClick:function(){t.push("/changepass")},children:"Change Password"}),Object(p.jsx)(u.a,{onClick:function(){fetch("https://thawing-escarpment-40827.herokuapp.com/signout",{method:"post",headers:{"Content-type":"application/json",authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){e.signout&&(localStorage.removeItem("token"),t.push("/"))})).catch((function(e){return console.log(e)}))},children:"Sign Out"})]})]})})},O=a(33),f=a(643),x=a(644),w=function(e){return localStorage.getItem("token")?Object(p.jsx)(f.a,{style:{display:"flex",justifyContent:"flex-end"},children:Object(p.jsx)(x.a,{children:Object(p.jsx)(g,{userid:e.userid,onRouteChange:e.onRouteChange,isSignedin:e.isSignedin,togglemodal:e.togglemodal})})}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(f.a,{style:{display:"flex",justifyContent:"flex-end"},children:[Object(p.jsx)(x.a,{children:Object(p.jsx)(O.b,{to:"/",children:Object(p.jsx)("p",{className:"f3 link dim white underline pa3 pointer",children:"Home"})})}),Object(p.jsx)(x.a,{children:Object(p.jsx)(O.b,{to:"/signin",children:Object(p.jsx)("p",{className:"f3 link dim white underline pa3 pointer",children:"Login In"})})}),Object(p.jsx)(x.a,{children:Object(p.jsx)(O.b,{to:"/register",children:Object(p.jsx)("p",{className:"f3 link dim white underline pa3 pointer",children:"Register"})})})]})})},v=a(236),N=a.n(v),k=(a(266),a.p+"static/media/brain.9cf05298.png"),y=function(){return Object(p.jsx)("div",{className:"ma4 mt0",children:Object(p.jsx)(N.a,{className:"Tilt br2 shadow-2",options:{max:45},style:{height:125,width:125},children:Object(p.jsxs)("div",{className:"Tilt-inner pa3",children:[" ",Object(p.jsx)("img",{src:k,alt:"brain"})," "]})})})},S=(a(267),function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{className:"f3",children:"This Magic Brain will detect faces in your pictures. Give a shot"}),Object(p.jsx)("div",{className:"center",children:Object(p.jsxs)("div",{className:"form center pa4 br3 shadow-5",children:[Object(p.jsx)("input",{type:"tex",onChange:e.onInputChange,className:"f4 pa2 w-70 center"}),Object(p.jsx)("button",{className:"w-30 grow f4 Link ph3 pv2 dib white bg-light-purple",onClick:e.onSubmit,children:"Detect"})]})})]})}),C=a(53),I=a.n(C),F=(a(202),function(e){var t=Object(m.f)();localStorage.getItem("token")&&fetch("https://thawing-escarpment-40827.herokuapp.com/refresh",{method:"post",headers:{"Content-type":"application/json",authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(a){a.user?(e.loaduser(a.user),t.push("/home")):(localStorage.removeItem("token"),t.push("/signin"))}));var a=Object(c.useState)(""),n=Object(h.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(""),o=Object(h.a)(i,2),l=o[0],b=o[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("article",{className:"br4 ba b--white-10 mv4 w-100 w-50-m w-25-l mw10 shadow-5 center",children:Object(p.jsx)("main",{className:"pa4 black-80",children:Object(p.jsxs)("div",{className:"measure",children:[Object(p.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(p.jsx)("legend",{className:"f1 fw6 ph0 mh0",children:"Login In"}),Object(p.jsxs)("div",{className:"mt3",children:[Object(p.jsx)("label",{className:"db fw6 lh-copy f5",htmlFor:"email-address",children:"Email"}),Object(p.jsx)("input",{className:"hover-black pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",onChange:function(e){r(e.target.value)},id:"email-address"})]}),Object(p.jsxs)("div",{className:"mv3",children:[Object(p.jsx)("label",{className:"db fw6 lh-copy f5",htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{className:"hover-black b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",onChange:function(e){b(e.target.value)},id:"password"})]})]}),Object(p.jsx)("div",{className:"",children:Object(p.jsx)("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",onClick:function(){if(s&&l&&s.includes("@")&&s.includes(".com")&&!s.includes("<script>")&&!l.includes("<script>")){var a=I.a.AES.encrypt(l,"secret key 123").toString();fetch("https://thawing-escarpment-40827.herokuapp.com/signin",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({email:s,password:a})}).then((function(e){return e.json()})).then((function(a){a.user?(localStorage.setItem("token",a.token),e.loaduser(a.user),t.push("/home")):(alert("Unable to signin,try again"),t.push("/signin"))}))}else alert("Unable to signin,try again")},value:"Sign in"})}),Object(p.jsx)("div",{className:"lh-copy mt3",children:Object(p.jsx)(O.b,{to:"/register",children:Object(p.jsx)("p",{className:"pointer f4 link dim black underline db pa3",children:"Register"})})})]})})})})}),B=function(e){var t=Object(m.f)();localStorage.getItem("token")&&fetch("https://thawing-escarpment-40827.herokuapp.com/refresh",{method:"post",headers:{"Content-type":"application/json",authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(a){a.user?(e.loaduser(a.user),t.push("/home")):(localStorage.removeItem("token"),t.push("/signin"))}));var a=Object(c.useState)(""),n=Object(h.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(""),o=Object(h.a)(i,2),l=o[0],b=o[1],d=Object(c.useState)(""),j=Object(h.a)(d,2),u=j[0],g=j[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("article",{className:"br4 ba b--white-10 mv4 w-100 w-50-m w-25-l mw10 shadow-5 center",children:Object(p.jsx)("main",{className:"pa4 black-80",children:Object(p.jsxs)("div",{className:"measure",children:[Object(p.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(p.jsx)("legend",{className:"f1 fw6 ph0 mh0",children:"Register"}),Object(p.jsxs)("div",{className:"mt3",children:[Object(p.jsx)("label",{className:"db fw6 lh-copy f5",htmlFor:"name",children:"Name"}),Object(p.jsx)("input",{className:"hover-black pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"name",id:"name",onChange:function(e){g(e.target.value)}})]}),Object(p.jsxs)("div",{className:"mt3",children:[Object(p.jsx)("label",{className:"db fw6 lh-copy f5",htmlFor:"email-address",children:"Email"}),Object(p.jsx)("input",{className:"hover-black pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:function(e){r(e.target.value)}})]}),Object(p.jsxs)("div",{className:"mv3",children:[Object(p.jsx)("label",{className:"db fw6 lh-copy f5",htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{className:"hover-black b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:function(e){b(e.target.value)}})]})]}),Object(p.jsx)("div",{className:"",children:Object(p.jsx)("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",onClick:function(){u&&s&&l&&s.includes("@")&&s.includes(".com")?fetch("https://thawing-escarpment-40827.herokuapp.com/register",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({username:u,email:s,password:I.a.AES.encrypt(l,"secret key 123").toString()})}).then((function(e){return e.json()})).then((function(a){a.token?(localStorage.setItem("token",a.token),e.loaduser(a.user),t.push("/home")):(alert("Unable to register,try again"),t.push("/register"))})):alert("Unable to register,try again")},type:"submit",value:"Register"})})]})})})})},P=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"white f3",children:"".concat(e.username,", your current rank is: ")}),Object(p.jsx)("div",{className:"white f1",children:e.count})]})},E=a(65),J=a.n(E),U=(a(634),function(e){return e.box?Object(p.jsx)("div",{className:"center",children:Object(p.jsxs)("div",{className:"absolute mt4",children:[Object(p.jsx)("img",{id:"inputimage",src:e.imageUrl,width:"500px",height:"auto",alt:""}),e.box.map((function(t,a){var n=function(t){return{leftcol:t.left_col*e.width,toprow:t.top_row*e.height,rightcol:e.width-t.right_col*e.width,bottomrow:e.height-t.bottom_row*e.height}}(t.region_info.bounding_box);return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"bounding-box",style:{top:n.toprow,right:n.rightcol,bottom:n.bottomrow,left:n.leftcol}})},a)}))]})}):Object(p.jsx)("div",{className:"center",children:Object(p.jsxs)("div",{className:"absolute mt4",children:[Object(p.jsx)("p",{children:"No Faces Found"}),Object(p.jsx)("img",{id:"inputimage",src:e.imageUrl,width:"500px",height:"auto",alt:""})]})})}),_=a(237),z=a(238),R=a(240),T=a(239),A=(a(635),document.getElementById("modal-root")),D=function(e){Object(R.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).el=document.createElement("div"),n}return Object(z.a)(a,[{key:"componentDidMount",value:function(){A.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){A.removeChild(this.el)}},{key:"render",value:function(){return o.a.createPortal(this.props.children,this.el)}}]),a}(r.a.Component),L=(a(636),function(e){var t=Object(c.useState)(e.user.name),a=Object(h.a)(t,2),n=a[0],s=a[1];return Object(p.jsx)("div",{className:"profile-modal",children:Object(p.jsx)("article",{className:"br4 ba b--white-10 mv4 w-100 w-50-m w-25-l mw10 center",children:Object(p.jsxs)("main",{className:"pa4 bg-white black-80 shadow-5 w-40",children:[Object(p.jsxs)("div",{className:"modal-close",children:[Object(p.jsx)("img",{src:"https://robohash.org/".concat(e.user.id),className:"br-100 bg-black ba h3 w3 dib",alt:"avatar"}),Object(p.jsx)("h1",{className:"close-text",onClick:e.togglemodal,children:"\xd7"})]}),Object(p.jsx)("h1",{children:n}),Object(p.jsxs)("h4",{children:["Images Submitted: ",e.user.entries]}),Object(p.jsxs)("p",{children:["Member Since: ",new Date(e.user.joined).toLocaleDateString()]}),Object(p.jsx)("label",{className:"mt2 fw6",htmlFor:"user-name",children:"Name:"}),Object(p.jsx)("input",{className:"pa2 ba w-100",placeholder:e.user.name,type:"text",onChange:function(e){s(e.target.value)},name:"user-name",id:"user-name"}),Object(p.jsxs)("div",{className:"mt4",style:{display:"flex",justifyContent:"space-evenly"},children:[Object(p.jsx)("button",{className:"b pa2 grow pointer hover-white w-40 bg-light-blue b--black-20",onClick:function(){n!==e.user.name?fetch("https://thawing-escarpment-40827.herokuapp.com/profile/".concat(e.user.id),{method:"post",headers:{"Content-type":"application/json",authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({name:n})}).then((function(e){return e.json()})).then((function(t){t.success?(e.togglemodal(),e.loaduser(t.user),alert("username successfully updates")):alert("error while updating the data")})).catch((function(e){return console.log(e)})):alert("username remains same")},children:"Save"}),Object(p.jsx)("button",{className:"b pa2 grow pointer hover-white w-40 bg-light-red b--black-20",onClick:e.togglemodal,children:"Cancel"})]})]})})})}),W=function(e){var t=Object(m.f)(),a=Object(c.useState)(""),n=Object(h.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(""),o=Object(h.a)(i,2),l=o[0],b=o[1],d=Object(c.useState)(""),j=Object(h.a)(d,2),u=j[0],g=j[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("article",{className:"br4 ba b--white-10 mv4 w-100 w-50-m w-25-l mw10 shadow-5 center",children:Object(p.jsx)("main",{className:"pa4 black-80",children:Object(p.jsxs)("div",{className:"measure",children:[Object(p.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(p.jsx)("legend",{className:"f1 fw6 ph0 mh0",children:"Change Password"}),Object(p.jsxs)("div",{className:"mt3",children:[Object(p.jsx)("label",{className:"db fw6 lh-copy f5",htmlFor:"name",children:"Current Password"}),Object(p.jsx)("input",{className:"hover-black pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"name",id:"name",onChange:function(e){r(e.target.value)}})]}),Object(p.jsxs)("div",{className:"mt3",children:[Object(p.jsx)("label",{className:"db fw6 lh-copy f5",htmlFor:"newpassword",children:"New Password"}),Object(p.jsx)("input",{className:"hover-black pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"newpassword",id:"newpassword",onChange:function(e){b(e.target.value)}})]}),Object(p.jsxs)("div",{className:"mv3",children:[Object(p.jsx)("label",{className:"db fw6 lh-copy f5",htmlFor:"conpassword",children:"Confirm Password"}),Object(p.jsx)("input",{className:"hover-black b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"conpassword",id:"conpassword",onChange:function(e){g(e.target.value)}})]})]}),Object(p.jsxs)("div",{className:"",children:[Object(p.jsx)("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",onClick:function(){s&&l&&u&&l===u?fetch("https://thawing-escarpment-40827.herokuapp.com/changepass",{method:"post",headers:{"Content-type":"application/json",authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({curpassword:I.a.AES.encrypt(s,"secret key 123").toString(),newpassword:I.a.AES.encrypt(l,"secret key 123").toString()})}).then((function(e){return e.json()})).then((function(e){e.success?(alert("successfully changed password"),t.push("/home")):(t.push("/home"),alert("Unable to update"))})):alert("Unable to update")},type:"submit",value:"Change"}),Object(p.jsx)("input",{className:"b ml2 ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",onClick:function(){t.push("/home")},type:"submit",value:"Cancel"})]})]})})})})},M=function(e){var t=Object(m.f)();return e.user.name||(localStorage.getItem("token")?fetch("https://thawing-escarpment-40827.herokuapp.com/refresh",{method:"post",headers:{"Content-type":"application/json",authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(a){a.user?e.loaduser(a.user):(localStorage.removeItem("token"),t.push("/signin"))})):t.push("/signin")),Object(p.jsx)(p.Fragment,{})},H=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"f4 fw4 black pa5",children:[Object(p.jsx)("p",{children:"Welcome, Smart-Brain is a well developed PERN Stack Face Detection Single Page Application"}),Object(p.jsx)("p",{children:"Through Smart-Brain, users can log into their can account and can provide an image and the application processes and detect faces and finally display the faces present in the image provided by the user."})]})})},G={particles:{number:{value:30,density:{enable:!0,value_area:600},move:{radius:5}}}},q=function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(""),o=Object(h.a)(i,2),b=o[0],d=o[1],j=Object(c.useState)([]),u=Object(h.a)(j,2),g=u[0],f=u[1],x=Object(c.useState)(!1),v=Object(h.a)(x,2),N=v[0],k=v[1],C=Object(c.useState)({id:"",name:"",email:"",entries:0,joined:""}),I=Object(h.a)(C,2),E=I[0],_=I[1],z=function(e){_((function(t){return Object(l.a)(Object(l.a)({},t),{},{id:e.id,name:e.name,email:e.email,entries:e.entries,joined:e.joined})}))},R=function(){k(!N)};return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(O.a,{children:Object(p.jsxs)(m.c,{children:[Object(p.jsx)(m.a,{exact:!0,path:"/smart-brain-front/",children:Object(p.jsxs)(p.Fragment,{children:[console.log("came"),Object(p.jsx)(J.a,{className:"particles",params:G}),Object(p.jsx)(w,{userid:E.id,togglemodal:R}),Object(p.jsx)(y,{}),Object(p.jsx)(H,{})]})}),Object(p.jsx)(m.a,{exact:!0,path:"/smart-brain-front/home",children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(M,{user:E,loaduser:z}),Object(p.jsx)(J.a,{className:"particles",params:G}),Object(p.jsx)(w,{userid:E.id,togglemodal:R}),Object(p.jsx)(y,{}),Object(p.jsx)(P,{username:E.name,count:E.entries}),Object(p.jsx)(S,{onSubmit:function(){!a.endsWith(".jpg")&&!a.endsWith(".png")||a.includes("<script>")?alert("Image link isn't compatible"):(d(a),fetch("https://thawing-escarpment-40827.herokuapp.com/imageurl",{method:"post",headers:{"Content-type":"application/json",authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({input:a})}).then((function(e){return e.json()})).then((function(e){var t;e&&(fetch("https://thawing-escarpment-40827.herokuapp.com/image",{method:"put",headers:{"Content-type":"application/json",authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({id:E.id})}).then((function(e){return e.json()})).then((function(e){_((function(e){return Object(l.a)(Object(l.a)({},e),{},{id:e.id,name:e.name,email:e.email,entries:e.entries+1,joined:e.joined})}))})),t=function(e){var t=e.outputs[0].data.regions,a=document.getElementById("inputimage");return n=Number(a.width),s=Number(a.height),t}(e),f(t))})).catch((function(e){return console.log("erros is: ",e)})))},onInputChange:function(e){r(e.target.value)}}),Object(p.jsx)(U,{box:g,width:n,height:s,imageUrl:b}),N&&Object(p.jsx)(D,{children:Object(p.jsx)(L,{isProfileOpen:N,loaduser:z,togglemodal:R,user:E})})]})}),Object(p.jsx)(m.a,{exact:!0,path:"/smart-brain-front/changepass",children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(M,{user:E,loaduser:z}),Object(p.jsx)(J.a,{className:"particles",params:G}),Object(p.jsx)(w,{userid:E.id,togglemodal:R}),Object(p.jsx)(y,{}),Object(p.jsx)(W,{loaduser:z}),N&&Object(p.jsx)(D,{children:Object(p.jsx)(L,{isProfileOpen:N,loaduser:z,togglemodal:R,user:E})})]})}),Object(p.jsx)(m.a,{exact:!0,path:"/smart-brain-front/signin",children:Object(p.jsxs)(p.Fragment,{children:[console.log("hiiii","/smart-brain-front"),Object(p.jsx)(J.a,{className:"particles",params:G}),Object(p.jsx)(w,{userid:E.id,togglemodal:R}),Object(p.jsx)(F,{loaduser:z})]})}),Object(p.jsx)(m.a,{exact:!0,path:"/smart-brain-front/register",children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(J.a,{className:"particles",params:G}),Object(p.jsx)(w,{userid:E.id,togglemodal:R}),Object(p.jsx)(B,{loaduser:z})]})})]})})})},K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,647)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};a(637),a(638),a(639);o.a.render(Object(p.jsx)(q,{}),document.getElementById("root")),K()}},[[640,1,2]]]);
//# sourceMappingURL=main.c780fd82.chunk.js.map